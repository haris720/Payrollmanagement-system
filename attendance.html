<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  --><!--  Last Published: Wed May 15 2024 09:20:06 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6641a47fe237201c800bc486" data-wf-site="6629faa43e13fd0a80f692eb">
<head>
  <meta charset="utf-8">
  <title>Attendance</title>
  <meta content="Attendance" property="og:title">
  <meta content="Attendance" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/project-aadd28.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Bitter:400,700,400italic","Droid Serif:400,400italic,700,700italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div class="mian-body">
    <div class="w-layout-blockcontainer header w-container">
      <a href="index.html" class="left w-inline-block"><img src="images/Favicon.png" loading="lazy" width="25" height="25" alt="" class="image">
        <h3 class="logo">Pay Roll</h3>
      </a>
      <div class="right">
        <div class="language"><img src="images/globe.png" loading="lazy" width="40" height="Auto" alt="" class="head-image">
          <div class="text">EN</div><img src="images/bell.png" loading="lazy" width="40" alt="" class="head-image _1"><img src="images/Profile.png" loading="lazy" width="100" data-w-id="dfc938da-9aaf-f896-e1e4-ddadd72e2bf9" alt="" class="head-image _2">
        </div>
      </div>
    </div>
    <div class="tab-content">
      <div class="div-block">
        <a href="index.html" class="tab w-inline-block"><img src="images/home.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Dashboard</h4>
        </a>
        <a href="jobdesk.html" class="tab w-inline-block"><img src="images/suitcase.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Job Desk</h4>
        </a>
        <a href="leave.html" class="tab w-inline-block"><img width="50" loading="lazy" alt="" src="images/horizontal-align-left.png" class="menu-img">
          <h4 class="heading">Leave</h4>
        </a>
        <a href="attendance.html" aria-current="page" class="tab w-inline-block w--current"><img src="images/time-clock.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Attendance</h4>
        </a>
        <a href="department.html" class="tab w-inline-block"><img src="images/folder.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Department</h4>
        </a>
        <div data-hover="false" data-delay="20" class="dropdown w-dropdown">
          <div class="dropdown-toggle w-dropdown-toggle"><img src="images/user.png" loading="lazy" width="50" alt="" class="menu-img">
            <h4 class="heading">Employee</h4>
            <div class="icon w-icon-dropdown-toggle"></div>
          </div>
          <nav class="dropdown-list w-dropdown-list">
            <a href="all-emp.html" class="down _1 w-dropdown-link">All Employee</a>
            <a href="payroll.html" class="down _2 w-dropdown-link">Pay Roll</a>
            <a href="bouns.html" class="down _1 w-dropdown-link">Bonus</a>
            <a href="tax.html" class="down _1 w-dropdown-link">Tax</a>
            <a href="benifit.html" class="down _1 w-dropdown-link">Benefits</a>
            <a href="deduction.html" class="down _1 w-dropdown-link">Deduction</a>
          </nav>
        </div>
        <div data-hover="false" data-delay="0" class="dropdown w-dropdown">
          <div class="dropdown-toggle w-dropdown-toggle"><img src="images/settings.png" loading="lazy" width="50" alt="" class="menu-img">
            <h4 class="heading">Setting</h4>
            <div class="icon w-icon-dropdown-toggle"></div>
          </div>
          <nav class="dropdown-list w-dropdown-list">
            <a href="#" class="down w-dropdown-link">Link 1</a>
            <a href="#" class="down w-dropdown-link">Link 2</a>
            <a href="#" class="down w-dropdown-link">Link 3</a>
          </nav>
        </div>
      </div>
    </div>
    <section class="content">
      <div class="mian-content">
        <div class="header-2">
          <div class="breadcrumbs">
            <div class="name-1">Attendance </div>
          </div>
          <div class="title-3">
            <div class="breadcrumbs">
              <div class="text-34">Attendance Record</div>
            </div>
            <a data-w-id="53fee3d0-22c8-0d0b-5c13-d1ef4b86b490" href="#" class="button _2 w-button"><strong>+</strong>  Mark Attendance</a>
          </div>
        </div>
        <div class="hello">
          <div class="container-6">
              <div class="frame-1935">
                  <div class="input">
                    <div class="text-35">
                      <div class="search-container">
                          <input type="text" id="employeeIDInput" class="input-field" placeholder="Enter Employee ID">
                          <button id="searchButton" class="search-button">Search</button>
                      </div>
                  </div>
                  <div class="reset-attendance">
                    <button id="resetButton" class="reset-button">Reset Attendance Data</button>
                </div>
                  </div>
              </div>
              <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
              <!-- <script>
                $(document).ready(function() {
    // Function to fetch and display attendance data based on employee ID
    function fetchAttendanceData(employeeID) {
        $.ajax({
            url: '/attendance',
            type: 'GET',
            data: { EmployeeID: employeeID },
            success: function(data) {
                // Clear existing data
                $('.attendance-data').empty();

                let presentCount = 0;
                let absentCount = 0;

                // Iterate over each attendance record and create HTML elements to display their data
                data.forEach(function(attendance) {
                    $('.attendance-data').append(`
                        <div class="table-cell-4">
                            <div class="label-8">
                                <div class="text-37">${attendance.EmployeeID}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${attendance.AttendanceDate}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${attendance.Status}</div>
                            </div>
                        </div>
                    `);

                    // Counting present and absent
                    if (attendance.Status === 'Present') {
                        presentCount++;
                    } else if (attendance.Status === 'Absent') {
                        absentCount++;
                    }
                });

                // Display present and absent counts
                $('.attendance-data').append(`
    <div class="attendance-info">
        <div class="table-cell-4">
            <div class="label-8">
                <div class="text-37 present-count">Present Count: ${presentCount}</div>
            </div>
        </div>
        <div class="table-cell-4">
            <div class="label-8">
                <div class="text-37 absent-count">Absent Count: ${absentCount}</div>
            </div>
        </div>
    </div>
`);

            },
            error: function(xhr, status, error) {
                console.error('Error fetching attendance data:', error);
            }
        });
    }

    // Event listener for the search button
    $('#searchButton').click(function() {
        // Fetch attendance data when the search button is clicked
        const employeeID = $('#employeeIDInput').val();
        fetchAttendanceData(employeeID);
    });
});

              </script> -->

              <script>
                $(document).ready(function() {
                    // Function to fetch and display attendance data based on employee ID
                    function fetchAttendanceData(employeeID) {
                        $.ajax({
                            url: '/attendance',
                            type: 'GET',
                            data: { EmployeeID: employeeID },
                            success: function(data) {
                                // Clear existing data
                                $('.attendance-data').empty();
                
                                let presentCount = 0;
                                let absentCount = 0;
                
                                // Iterate over each attendance record and create HTML elements to display their data
                                data.forEach(function(attendance) {
                                    // Parse the AttendanceDate to compare with the current date
                                    const attendanceDate = new Date(attendance.AttendanceDate);
                                    const currentDate = new Date();
                
                                    // Check if the attendance is within the current month and up to the current date
                                    if (attendanceDate.getMonth() === currentDate.getMonth() && 
                                        attendanceDate.getFullYear() === currentDate.getFullYear() && 
                                        attendanceDate <= currentDate) {
                                        $('.attendance-data').append(`
                                            <div class="table-cell-4">
                                                <div class="label-8">
                                                    <div class="text-37">${attendance.EmployeeID}</div>
                                                </div>
                                                <div class="label-8">
                                                    <div class="text-37">${attendance.AttendanceDate}</div>
                                                </div>
                                                <div class="label-8">
                                                    <div class="text-37">${attendance.Status}</div>
                                                </div>
                                            </div>
                                        `);
                
                                        // Counting present and absent
                                        if (attendance.Status === 'Present') {
                                            presentCount++;
                                        } else if (attendance.Status === 'Absent') {
                                            absentCount++;
                                        }
                                    }
                                });
                
                                // Display present and absent counts
                                $('.attendance-data').append(`
                                    <div class="attendance-info">
                                        <div class="table-cell-4">
                                            <div class="label-8">
                                                <div class="text-37 present-count">Present Count: ${presentCount}</div>
                                            </div>
                                        </div>
                                        <div class="table-cell-4">
                                            <div class="label-8">
                                                <div class="text-37 absent-count">Absent Count: ${absentCount}</div>
                                            </div>
                                        </div>
                                    </div>
                                `);
                            },
                            error: function(xhr, status, error) {
                                console.error('Error fetching attendance data:', error);
                            }
                        });
                    }
                
                    // Event listener for the search button
                    $('#searchButton').click(function() {
                        // Fetch attendance data when the search button is clicked
                        const employeeID = $('#employeeIDInput').val();
                        fetchAttendanceData(employeeID);
                    });
                });
                </script>
                








   <script>
    $(document).ready(function() {
        // Function to check if the current date is the 16th of the month
        function isSixteenthOfMonth() {
            const currentDate = new Date();
            return currentDate.getDate() === 16;
        }

        // Event listener for the reset button
        $('#resetButton').click(function() {
            if (isSixteenthOfMonth()) {
                // Send request to reset attendance data
                $.ajax({
                    url: '/resetAttendance',
                    type: 'POST',
                    success: function(response) {
                        alert('Attendance data reset successfully!');
                    },
                    error: function(xhr, status, error) {
                        console.error('Error resetting attendance data:', error);
                        alert('Failed to reset attendance data. Please try again later.');
                    }
                });
            } else {
                alert('Attendance data can only be reset on the 16th of the month.');
            }
        });
    });
</script>
              <!-- HTML code to display attendance data -->
              <div class="text-36">Attendance Info</div>
              <div class="table-pagination">
                  <div class="table-cell-3">
                      <div class="label-5">
                          <div class="label-6">
                              <div class="label-7">Employee ID</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Attendance Date</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Status</div>
                          </div>
                      </div>
                  </div>
                  <div class="attendance-data"></div>
              </div>
          </div>
      </div>
      
      
      </div>
    </section>
    <div class="main_form">
      <div class="form-block w-form">
        <form id="TaxForm" name="wf-form-TaxForm" data-name="TaxForm"  action="/addAttendance" method="post" class="form" data-wf-page-id="6641a47fe237201c800bc486" data-wf-element-id="53fee3d0-22c8-0d0b-5c13-d1ef4b86b56c">
          <h2 class="titel2">Attendance Record</h2>
          <div class="div-block-2">
            <div class="div-block-3"><label for="EmployeeID">Employee ID</label><input class="text-field w-input" maxlength="256" name="EmployeeID" data-name="EmployeeID" placeholder="Enter Your ID" type="text" id="EmployeeID" required=""></div>
            <div class="div-block-3"><label for="Date">Attendance Date</label><input class="text-field w-input" maxlength="256" name="AttendanceDate" data-name="Date" placeholder="Date" type="text" id="AttendanceDate"></div>
            <div class="div-block-3"><label for="Status">Status</label><input class="text-field w-input" maxlength="256" name="Status" data-name="Status" placeholder="Status Now" type="text" id="Status"></div>
           
          </div>
          <div class="gap"><input type="submit" data-wait="Please wait..." bt_tax="none" class="button w-button" value="Submit">
            <a data-w-id="53fee3d0-22c8-0d0b-5c13-d1ef4b86b58a" href="#" class="button2 w-button">Close</a>
          </div>
        </form>
        <div class="w-form-done">
          <div class="text-block">Thank you! Your submission has been received!</div>
          <a data-w-id="53fee3d0-22c8-0d0b-5c13-d1ef4b86b58f" href="#" class="button2 w-button">Close</a>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6629faa43e13fd0a80f692eb" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>
</html>