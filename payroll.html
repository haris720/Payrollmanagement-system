<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  --><!--  Last Published: Wed May 15 2024 09:20:06 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="663333218e7b2fcfee83ce1d" data-wf-site="6629faa43e13fd0a80f692eb">
<head>
  <meta charset="utf-8">
  <title>Payroll</title>
  <meta content="Payroll" property="og:title">
  <meta content="Payroll" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/project-aadd28.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Bitter:400,700,400italic","Droid Serif:400,400italic,700,700italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div class="mian-body">
    <div class="w-layout-blockcontainer header w-container">
      <a href="index.html" class="left w-inline-block"><img src="images/Favicon.png" loading="lazy" width="25" height="25" alt="" class="image">
        <h3 class="logo">Pay Roll</h3>
      </a>
      <div class="right">
        <div class="language"><img src="images/globe.png" loading="lazy" width="40" height="Auto" alt="" class="head-image">
          <div class="text">EN</div><img src="images/bell.png" loading="lazy" width="40" alt="" class="head-image _1"><img src="images/Profile.png" loading="lazy" width="100" data-w-id="dfc938da-9aaf-f896-e1e4-ddadd72e2bf9" alt="" class="head-image _2">
        </div>
      </div>
    </div>
    <div class="tab-content">
      <div class="div-block">
        <a href="index.html" class="tab w-inline-block"><img src="images/home.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Dashboard</h4>
        </a>
        <a href="jobdesk.html" class="tab w-inline-block"><img src="images/suitcase.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Job Desk</h4>
        </a>
        <a href="leave.html" class="tab w-inline-block"><img width="50" loading="lazy" alt="" src="images/horizontal-align-left.png" class="menu-img">
          <h4 class="heading">Leave</h4>
        </a>
        <a href="attendance.html" class="tab w-inline-block"><img src="images/time-clock.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Attendance</h4>
        </a>
        <a href="department.html" class="tab w-inline-block"><img src="images/folder.png" loading="lazy" width="50" alt="" class="menu-img">
          <h4 class="heading">Department</h4>
        </a>
        <div data-hover="false" data-delay="20" class="dropdown w-dropdown">
          <div class="dropdown-toggle w-dropdown-toggle"><img src="images/user.png" loading="lazy" width="50" alt="" class="menu-img">
            <h4 class="heading">Employee</h4>
            <div class="icon w-icon-dropdown-toggle"></div>
          </div>
          <nav class="dropdown-list w-dropdown-list">
            <a href="all-emp.html" class="down _1 w-dropdown-link">All Employee</a>
            <a href="payroll.html" aria-current="page" class="down _2 w-dropdown-link w--current">Pay Roll</a>
            <a href="bouns.html" class="down _1 w-dropdown-link">Bonus</a>
            <a href="tax.html" class="down _1 w-dropdown-link">Tax</a>
            <a href="benifit.html" class="down _1 w-dropdown-link">Benefits</a>
            <a href="deduction.html" class="down _1 w-dropdown-link">Deduction</a>
          </nav>
        </div>
        <div data-hover="false" data-delay="0" class="dropdown w-dropdown">
          <div class="dropdown-toggle w-dropdown-toggle"><img src="images/settings.png" loading="lazy" width="50" alt="" class="menu-img">
            <h4 class="heading">Setting</h4>
            <div class="icon w-icon-dropdown-toggle"></div>
          </div>
          <nav class="dropdown-list w-dropdown-list">
            <a href="#" class="down w-dropdown-link">Link 1</a>
            <a href="#" class="down w-dropdown-link">Link 2</a>
            <a href="#" class="down w-dropdown-link">Link 3</a>
          </nav>
        </div>
      </div>
    </div>
    <section class="content">
      <div class="mian-content">
        <div class="header-2">
          <div class="breadcrumbs">
            <div class="name-1">Employee    &gt;</div>
            <div class="name-2">Pay Roll</div>
          </div>
          <div class="title-3">
            <div class="breadcrumbs">
              <div class="text-34">Pay roll</div>
            </div>
            <a data-w-id="aa4b1f78-0bd6-1ae3-2b0e-138a4b38ca13" href="#" class="button _2 w-button"><strong>+</strong>  Add Salary</a>
          </div>
        </div>
        <div class="hello">
          <div class="container-6">
              <div class="frame-1935">
                  <div class="input">
                      <div class="text-35">
                          <div class="search">
                              <img src="images/search.png" loading="lazy" width="70" alt="" class="icon _1">
                          </div>
                          <div class="placeholder">Update</div>
                      </div>
                  </div>
              </div>
              <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
                           <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
             
       <!-- <script>
$(document).ready(function() {
    let currentPage = 1;
    const limit = 10;

    function fetchPayrollData(page) {
        $.ajax({
            url: '/payroll',
            type: 'GET',
            data: { page: page, limit: limit },
            success: function(data) {
                $('.payroll-data').empty();

                if (data.length === 0 && page > 1) {
                    currentPage--;
                    return;
                }

                data.forEach(function(payroll) {
                    const totalSalary = payroll.BasicSalary + (payroll.OvertimeHours * 100) + payroll.BonusAmount + payroll.BenefitAmount - payroll.TaxAmount - payroll.DeductionAmount;
                    $('.payroll-data').append(`
                        <div class="table-cell-4">
                            <div class="label-8">
                                <div class="text-37"> ${payroll.PayrollID}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${payroll.EmployeeID}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.BasicSalary}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.OvertimeHours}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${payroll.BonusAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.BenefitAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.PayDate}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.TaxAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.DeductionAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${totalSalary}</div>
                            </div>
                        </div>
                    `);
                });

                if (data.length < limit) {
                    $('.button-6').addClass('disabled');
                } else {
                    $('.button-6').removeClass('disabled');
                }
            },
            error: function(xhr, status, error) {
                console.error('Error fetching payroll data:', error);
            }
        });
    }

    function updatePagination() {
        $('.input-page .text-39').text(currentPage);
    }

    $('.button-5').click(function() {
        if (currentPage > 1) {
            currentPage--;
            fetchPayrollData(currentPage);
            updatePagination();
        }
    });

    $('.button-6').click(function() {
        if (!$(this).hasClass('disabled')) {
            currentPage++;
            fetchPayrollData(currentPage);
            updatePagination();
        }
    });

    $('.update-button').click(function() {
        // Call the endpoint to update salaries when the update button is clicked
        $.ajax({
            url: '/update-salaries',
            type: 'GET',
            success: function(response) {
                console.log('Salaries updated successfully');
                // Fetch and display payroll data after updating salaries
                fetchPayrollData(currentPage);
            },
            error: function(xhr, status, error) {
                console.error('Error updating salaries:', error);
            }
        });
    });

    fetchPayrollData(currentPage);
    updatePagination();
});
</script>

        -->
       
       
       
        <script>
          $(document).ready(function() {
              let currentPage = 1;
              const limit = 10;
          
              function fetchPayrollData(page) {
                  $.ajax({
                      url: '/payroll',
                      type: 'GET',
                      data: { page: page, limit: limit },
                      success: function(data) {
                          $('.payroll-data').empty();
          
                          if (data.length === 0 && page > 1) {
                              currentPage--;
                              return;
                          }
          
                          data.forEach(function(payroll) {
                              const totalSalary = payroll.BasicSalary + (payroll.OvertimeHours * 100) + payroll.BonusAmount + payroll.BenefitAmount - payroll.TaxAmount - payroll.DeductionAmount;
                              $('.payroll-data').append(`
                                  <div class="table-cell-4">
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.PayrollID}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${payroll.EmployeeID}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.BasicSalary}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.OvertimeHours}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${payroll.BonusAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.BenefitAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.PayDate}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.TaxAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.DeductionAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${totalSalary}</div>
                                      </div>
                                  </div>
                              `);
                          });
          
                          if (data.length < limit) {
                              $('.button-6').addClass('disabled');
                          } else {
                              $('.button-6').removeClass('disabled');
                          }
                      },
                      error: function(xhr, status, error) {
                          console.error('Error fetching payroll data:', error);
                      }
                  });
              }
          
              function updatePagination() {
                  $('.input-page .text-39').text(currentPage);
              }
          
              $('.button-5').click(function() {
                  if (currentPage > 1) {
                      currentPage--;
                      fetchPayrollData(currentPage);
                      updatePagination();
                  }
              });
          
              $('.button-6').click(function() {
                  if (!$(this).hasClass('disabled')) {
                      currentPage++;
                      fetchPayrollData(currentPage);
                      updatePagination();
                  }
              });
          
              // Function to fetch payroll data and update salaries every 2 minutes
              function updateSalariesAutomatically() {
                  fetch('/update-salaries')
                      .then(response => {
                          if (response.ok) {
                              console.log('Salaries updated successfully');
                              fetchPayrollData(currentPage); // Update payroll data after updating salaries
                          } else {
                              throw new Error('Failed to update salaries');
                          }
                      })
                      .catch(error => console.error('Error updating salaries:', error));
              }
          
              // Initial call to fetch payroll data
              fetchPayrollData(currentPage);
          
              // Schedule automatic salary update every 2 minutes
              setInterval(updateSalariesAutomatically, 1 * 60 * 1000);
          });
          </script>
          

       <!-- <script>
$(document).ready(function() {
    let currentPage = 1;
    const limit = 10;

    function fetchPayrollData(page) {
        $.ajax({
            url: '/payroll',
            type: 'GET',
            data: { page: page, limit: limit },
            success: function(data) {
                $('.payroll-data').empty();

                if (data.length === 0 && page > 1) {
                    currentPage--;
                    return;
                }

                data.forEach(function(payroll) {
                    const totalSalary = payroll.BasicSalary + (payroll.OvertimeHours * 100) + payroll.BonusAmount + payroll.BenefitAmount - payroll.TaxAmount - payroll.DeductionAmount;
                    $('.payroll-data').append(`
                        <div class="table-cell-4">
                            <div class="label-8">
                                <div class="text-37"> ${payroll.PayrollID}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${payroll.EmployeeID}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.BasicSalary}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.OvertimeHours}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${payroll.BonusAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.BenefitAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.PayDate}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.TaxAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37"> ${payroll.DeductionAmount}</div>
                            </div>
                            <div class="label-8">
                                <div class="text-37">${totalSalary}</div>
                            </div>
                        </div>
                    `);
                });

                if (data.length < limit) {
                    $('.button-6').addClass('disabled');
                } else {
                    $('.button-6').removeClass('disabled');
                }
            },
            error: function(xhr, status, error) {
                console.error('Error fetching payroll data:', error);
            }
        });
    }

    function updatePagination() {
        $('.input-page .text-39').text(currentPage);
    }

    $('.button-5').click(function() {
        if (currentPage > 1) {
            currentPage--;
            fetchPayrollData(currentPage);
            updatePagination();
        }
    });

    $('.button-6').click(function() {
        if (!$(this).hasClass('disabled')) {
            currentPage++;
            fetchPayrollData(currentPage);
            updatePagination();
        }
    });

    $('.update-button').click(function() {
        // Call the endpoint to update salaries when the update button is clicked
        $.ajax({
            url: '/update-salaries',
            type: 'GET',
            success: function(response) {
                console.log('Salaries updated successfully');
                // Fetch and display payroll data after updating salaries
                fetchPayrollData(currentPage);
            },
            error: function(xhr, status, error) {
                console.error('Error updating salaries:', error);
            }
        });
    });

    fetchPayrollData(currentPage);
    updatePagination();
});
</script>

        -->
       
       
       
        <script>
          $(document).ready(function() {
              let currentPage = 1;
              const limit = 10;
          
              function fetchPayrollData(page) {
                  $.ajax({
                      url: '/payroll',
                      type: 'GET',
                      data: { page: page, limit: limit },
                      success: function(data) {
                          $('.payroll-data').empty();
          
                          if (data.length === 0 && page > 1) {
                              currentPage--;
                              return;
                          }
          
                          data.forEach(function(payroll) {
                              const totalSalary = payroll.BasicSalary + (payroll.OvertimeHours * 100) + payroll.BonusAmount + payroll.BenefitAmount - payroll.TaxAmount - payroll.DeductionAmount;
                              $('.payroll-data').append(`
                                  <div class="table-cell-4">
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.PayrollID}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${payroll.EmployeeID}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.BasicSalary}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.OvertimeHours}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${payroll.BonusAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.BenefitAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.PayDate}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.TaxAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37"> ${payroll.DeductionAmount}</div>
                                      </div>
                                      <div class="label-8">
                                          <div class="text-37">${totalSalary}</div>
                                      </div>
                                  </div>
                              `);
                          });
          
                          if (data.length < limit) {
                              $('.button-6').addClass('disabled');
                          } else {
                              $('.button-6').removeClass('disabled');
                          }
                      },
                      error: function(xhr, status, error) {
                          console.error('Error fetching payroll data:', error);
                      }
                  });
              }
          
              function updatePagination() {
                  $('.input-page .text-39').text(currentPage);
              }
          
              $('.button-5').click(function() {
                  if (currentPage > 1) {
                      currentPage--;
                      fetchPayrollData(currentPage);
                      updatePagination();
                  }
              });
          
              $('.button-6').click(function() {
                  if (!$(this).hasClass('disabled')) {
                      currentPage++;
                      fetchPayrollData(currentPage);
                      updatePagination();
                  }
              });
          
              // Function to fetch payroll data and update salaries every 2 minutes
              function updateSalariesAutomatically() {
                  fetch('/update-salaries')
                      .then(response => {
                          if (response.ok) {
                              console.log('Salaries updated successfully');
                              fetchPayrollData(currentPage); // Update payroll data after updating salaries
                          } else {
                              throw new Error('Failed to update salaries');
                          }
                      })
                      .catch(error => console.error('Error updating salaries:', error));
              }
          
              // Initial call to fetch payroll data
              fetchPayrollData(currentPage);
          
              // Schedule automatic salary update every 2 minutes
              setInterval(updateSalariesAutomatically, 1 * 60 * 1000);
          });
          </script>
          
       
       
       
       
       
       
       <div class="text-36">Announcements</div>
              <div class="table-pagination">
                  <div class="table-cell-3">
                      <div class="label-5">
                          <div class="label-6">
                              <div class="label-7">Payroll ID</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Employee ID</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Basic Salary</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Overtime Amount</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Bonus Amount</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Benefit Amount</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Pay Date</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Tax Amount</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Deduction Amount</div>
                          </div>
                      </div>
                      <div class="component-3">
                          <div class="label-6">
                              <div class="label-7">Total Salary</div>
                          </div>
                      </div>
                  </div>
                  <div class="payroll-data"></div>
              </div>
              <button class="update-button">Update</button>
              <div class="pagination">
                  <div class="pagination-2">
                      <div class="previous-button">
                          <a href="#" class="button-5">
                              <div class="text-39">Prev</div>
                          </a>
                          <a href="#" class="button-6">
                              <div class="text-40">Next</div>
                          </a>
                      </div>
                      <div class="profile">
                          <div class="input-page">
                              <div class="text-41">Page:</div>
                              <a href="#" class="button-7">
                                  <div class="text-39">1</div>
                              </a>
                          </div>
                          <div class="pages-amount">
                              <div class="text-41">of</div>
                              <div class="pages-amount-2">100</div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      
      </div>
    </section>
    <div class="main_form">
      <div class="form-block w-form">
        <form id="SalaryForm" name="wf-form-SalaryForm" data-name="SalaryForm" action="/addPayroll" method="post" class="form" data-wf-page-id="663333218e7b2fcfee83ce1d" data-wf-element-id="7cebd256-061d-2800-dad0-6c0d42f7d83a">
          <h2 class="titel2">Add Record</h2>
          <div class="div-block-2">

            <div class="div-block-3"><label for="sal_id">Pay ID</label><input class="text-field w-input" maxlength="256" name="PayrollID" data-name="sal_id" placeholder="" type="text" id="PayrollID"></div>
            <div class="div-block-3"><label for="empl_id">Employee ID</label><input class="text-field w-input" maxlength="256" name="EmployeeID" data-name="empl_id" placeholder="" type="text" id="EmployeeID" required=""></div>
            <div class="div-block-3"><label for="sal_pay">Basic Pay</label><input class="text-field w-input" maxlength="256" name="BasicSalary" data-name="sal_pay" placeholder="" type="number" id="BasicSalary" required=""></div>
            <div class="div-block-3"><label for="sal_overTime">Over Time Hour</label><input class="text-field w-input" maxlength="256" name="OvertimeHours" data-name="sal_overTime" placeholder="" type="number" id="OvertimeHours" required=""></div>   
            <div class="div-block-3"><label for="sal_date">Pay Date</label><input class="text-field w-input" maxlength="256" name="PayDate" data-name="sal_date" placeholder="" type="text" id="PayDate"></div>
          </div>
          <div class="gap">
            <div id="w-node-_7cebd256-061d-2800-dad0-6c0d42f7d856-ee83ce1d"><label for="sal_total">Total Worked hour</label><input class="text-field w-input" maxlength="256" name="sal_total" data-name="sal_total" placeholder="" type="number" id="sal_total" required=""></div><input type="submit" data-wait="Please wait..." bt_sal="none" class="button w-button" value="Submit">
            <a data-w-id="7cebd256-061d-2800-dad0-6c0d42f7d860" href="#" class="button2 w-button">Close</a>
          </div>
        </form>
        <div class="w-form-done">
          <div class="text-block">Thank you! Your submission has been received!</div>
          <a data-w-id="09d4514c-2b11-514c-439a-4795a0356d51" href="#" class="button2 w-button">Close</a>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting.</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6629faa43e13fd0a80f692eb" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>
</html>
